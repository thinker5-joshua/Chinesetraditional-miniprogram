<!-- å¼¹å‡ºæ¡†å®¹å™¨ -->
<view class="modal-overlay" bindtap="goBack">
  <view class="modal-container" catchtap="stopPropagation">
    
    <!-- å¼¹å‡ºæ¡†å¤´éƒ¨ -->
    <view class="modal-header">
      <view class="element-symbol" style="background: {{elementInfo.color || '#667eea'}};">
        <text class="symbol-text">{{elementInfo.symbol || elementInfo.title}}</text>
      </view>
      <view class="element-title">
        <view class="element-name">{{elementInfo.element}}</view>
        <view class="element-pinyin" wx:if="{{elementInfo.pinyin}}">{{elementInfo.pinyin}}</view>
      </view>
    </view>

    <!-- å¼¹å‡ºæ¡†å†…å®¹åŒºåŸŸ -->
    <scroll-view class="modal-content" scroll-y="true">
      
      <!-- æ•°æ®åŠ è½½çŠ¶æ€æç¤º -->
      <view wx:if="{{!elementInfo.element}}" class="loading-container">
        <view class="loading-icon">ğŸ”„</view>
        <text class="loading-text">æ­£åœ¨åŠ è½½æ•°æ®...</text>
      </view>
      

      
      <!-- åŸºæœ¬æè¿° -->
      <view class="content-section">
        <view class="section-title">æ ¸å¿ƒç‰¹å¾</view>
        <view class="description-text">{{elementInfo.description}}</view>
      </view>

      <!-- åŸºæœ¬å±æ€§ -->
      <view class="content-section" wx:if="{{elementInfo.properties && elementInfo.properties.length > 0}}">
        <view class="section-title">ä¸»è¦ç‰¹æ€§</view>
        <view class="attribute-list">
          <view class="attribute-item" wx:for="{{elementInfo.properties}}" wx:key="*this">
            <text class="attribute-text">{{item}}</text>
          </view>
        </view>
      </view>

      <!-- äº”è¡Œå…³ç³» -->
      <view class="content-section" wx:if="{{elementInfo.sheng || elementInfo.ke}}">
        <view class="section-title">äº”è¡Œå…³ç³»</view>
        <view class="wuxing-relations">
          <view class="relation-card sheng" wx:if="{{elementInfo.sheng}}">
            <view class="relation-label">ç›¸ç”Ÿ</view>
            <view class="relation-value">â†’ {{elementInfo.sheng}}</view>
            <view class="relation-desc">è¢«{{elementInfo.sheng}}æ‰€ç”Ÿï¼Œæˆ–ç”Ÿæˆ{{elementInfo.sheng}}</view>
          </view>
          <view class="relation-card ke" wx:if="{{elementInfo.ke}}">
            <view class="relation-label">ç›¸å…‹</view>
            <view class="relation-value">â†’ {{elementInfo.ke}}</view>
            <view class="relation-desc">è¢«{{elementInfo.ke}}æ‰€å…‹ï¼Œæˆ–å…‹åˆ¶{{elementInfo.ke}}</view>
          </view>
        </view>
      </view>

      <!-- è‡ªç„¶å¯¹åº” -->
      <view class="content-section" wx:if="{{elementInfo.season || elementInfo.direction || elementInfo.planet || elementInfo.number}}">
        <view class="section-title">è‡ªç„¶å¯¹åº”</view>
        <view class="nature-grid">
          <view class="nature-item" wx:if="{{elementInfo.season}}">
            <view class="nature-label">å­£èŠ‚</view>
            <view class="nature-value">{{elementInfo.season}}</view>
          </view>
          <view class="nature-item" wx:if="{{elementInfo.direction}}">
            <view class="nature-label">æ–¹ä½</view>
            <view class="nature-value">{{elementInfo.direction}}</view>
          </view>
          <view class="nature-item" wx:if="{{elementInfo.planet}}">
            <view class="nature-label">è¡Œæ˜Ÿ</view>
            <view class="nature-value">{{elementInfo.planet}}</view>
          </view>
          <view class="nature-item" wx:if="{{elementInfo.number}}">
            <view class="nature-label">æ•°ç†</view>
            <view class="nature-value">{{elementInfo.number}}</view>
          </view>
        </view>
      </view>

      <!-- å…»ç”Ÿå»ºè®® -->
      <view class="content-section" wx:if="{{elementInfo.healthTips && elementInfo.healthTips.length > 0}}">
        <view class="section-title">å…»ç”Ÿå»ºè®®</view>
        <view class="health-tips">
          <view class="health-tip" wx:for="{{elementInfo.healthTips}}" wx:key="*this">
            <text class="tip-text">{{item}}</text>
          </view>
        </view>
      </view>

      <!-- æ–‡åŒ–æ„ä¹‰ -->
      <view class="content-section" wx:if="{{elementInfo.cultural && elementInfo.cultural.length > 0}}">
        <view class="section-title">æ–‡åŒ–æ„ä¹‰</view>
        <view class="cultural-content">
          <view class="cultural-item" wx:for="{{elementInfo.cultural}}" wx:key="*this">
            <text class="cultural-text">{{item}}</text>
          </view>
        </view>
      </view>

      <!-- ç›¸å…³å…ƒç´  -->
      <view class="content-section" wx:if="{{relatedElements && relatedElements.length > 0}}">
        <view class="section-title">ç›¸å…³å…ƒç´ </view>
        <view class="related-elements">
          <view 
            class="related-element"
            wx:for="{{relatedElements}}" 
            wx:key="name"
            bindtap="onRelatedElementTap"
            data-element="{{item.name}}"
          >
            <view class="related-symbol">{{item.symbol || item.name}}</view>
            <view class="related-name">{{item.name}}</view>
          </view>
        </view>
      </view>

    </scroll-view>

    <!-- åº•éƒ¨å›ºå®šè¿”å›æŒ‰é’® -->
    <view class="modal-footer">
      <view class="back-button" bindtap="goBack">
        <text class="back-text">è¿”å›</text>
      </view>
    </view>

  </view>
</view>