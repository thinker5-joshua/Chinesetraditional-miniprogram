# 家族谱系探索

## 功能特点

### 1. 动态家族树生成
- 从一对夫妻开始自动扩展家族树
- 向上扩展：每人的父母（两对夫妻）
- 向下扩展：每对夫妻的一子一女及其配偶
- 限制扩展层数：距离根夫妻不超过4步

### 2. 可视化显示
- 不同颜色区分性别（男性青色，女性红色）
- 连接线表示夫妻关系（红色）和亲子关系（青色）
- 支持缩放（30%-300%）和拖拽浏览
- 响应式设计，适配不同屏幕尺寸

### 3. 视角切换
- "我是夫"：以男性视角显示所有称呼
- "我是妻"：以女性视角显示所有称呼
- 实时更新所有成员的相对称呼

### 4. 关系计算
- 点击选择两个家族成员
- 自动计算两人之间的亲属关系
- 显示双向称呼：A应该称呼B什么，B应该称呼A什么
- 支持各种亲属关系：夫妻、父母子女、祖孙、兄弟姐妹、叔伯姑姨、堂表等

### 5. 交互体验
- 触摸拖拽移动画布
- 滚轮或按钮缩放
- 点击选择成员查看详情
- 内置使用说明

## 技术实现

### 数据结构
- 每个家庭成员包含：ID、姓名、性别、代际、坐标、配偶ID、父母ID列表、子女ID列表
- 使用递归算法生成家族树
- 自动计算相对位置和连接线

### 关系计算算法
- 递归查找两人之间的最短路径
- 区分直系亲属和旁系亲属
- 根据性别和代际确定具体称呼
- 支持视角切换调整称呼方式

### 可视化技术
- CSS transform 实现缩放和位移
- 绝对定位布局家族成员
- SVG或CSS绘制连接线
- 响应式适配移动设备

## 使用方法

1. 打开家族谱系探索页面
2. 选择视角（"我是夫"或"我是妻"）
3. 浏览家族树，使用缩放和拖拽功能
4. 点击两个成员查看关系详情
5. 在关系弹窗中查看双向称呼

## 扩展可能

- 支持自定义家族成员信息
- 添加更多亲属关系类型
- 实现家族树编辑功能
- 添加家族历史记录
- 支持导出家族树图片