<!-- 海报生成页 -->
<view class="poster-container">
  <!-- 海报生成区域 -->
  <view class="poster-generation-section">
    <!-- 海报预览 -->
    <!-- Canvas用于绘制海报，完全隐藏 -->
    <canvas 
      type="2d"
      id="posterCanvas" 
      class="poster-canvas" 
      style="width: 600rpx; height: 900rpx;"
    ></canvas>

    <!-- 生成中提示 -->
    <view class="generating-hint" wx:if="{{isGenerating}}">
      <text class="hint-text">海报生成中...</text>
      <view class="loading-spinner"></view>
    </view>
    
    <!-- 完整显示生成的海报图片 -->
    <view class="poster-full-container" wx:if="{{posterImage}}">
      <image 
        class="poster-full-image" 
        src="{{posterImage}}" 
        mode="widthFix"
      ></image>
    </view>

    <!-- 操作按钮 -->
    <view class="action-buttons" wx:if="{{posterImage}}">
      <view class="main-buttons">
        <button 
          class="action-button primary" 
          bindtap="saveToAlbum"
        >
          保存到相册
        </button>
        <button 
          class="action-button secondary" 
          open-type="share"
        >
          分享海报
        </button>
      </view>
      <button 
        class="action-button back-button" 
        bindtap="goBack"
      >
        返回首页
      </button>
    </view>
  </view>

  <!-- 底部提示 -->
  <view class="bottom-hint" wx:if="{{posterImage}}">
    <text class="hint-content">保存海报后，您可以分享到朋友圈或微信好友</text>
  </view>
</view>