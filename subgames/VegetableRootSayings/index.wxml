<view class="app-container">
  <!-- 顶部导航 -->
  <header class="app-header">
    <view class="header-content">
      <text class="app-title">菜根谭</text>
      <text class="app-subtitle">品味《菜根谭》智慧箴言，学习明代洪应明的处世哲学</text>
    </view>
  </header>

  <!-- 次要操作按钮区 -->
  <view class="secondary-action-bar" wx:if="{{!isLoading && !showOriginalDetail}}">
    <view class="secondary-actions">
      <button class="secondary-btn copy-btn" bindtap="copyQuote">
        <text class="secondary-icon">📋</text>
        <text class="secondary-text">复制</text>
      </button>
      
      <button class="secondary-btn share-btn" open-type="share" bindtap="shareQuote">
        <text class="secondary-icon">↑</text>
        <text class="secondary-text">分享</text>
      </button>
    </view>
  </view>

  <!-- 主内容区域 -->
  <view class="main-content">
    <!-- 名言卡片容器 -->
    <view class="quote-container" wx:if="{{!isLoading && !showFavorites && !showOriginalDetail}}">
      <view class="quote-card" bindtap="showOriginalDetail">
        <view class="quote-content">
          <view class="quote-summary">
            <text user-select="true">{{currentQuote.theme}}</text>
          </view>
          <view class="quote-text">
            <text user-select="true">{{currentQuote.quote}}</text>
          </view>
          <view class="quote-source">
            <text user-select="true">{{currentQuote.source}}</text>
          </view>
        </view>
      </view>
    </view>

    <!-- 原文详情页 -->
    <view class="original-detail-page" wx:if="{{!isLoading && !showFavorites && showOriginalDetail}}">
      <view class="detail-header">
        <button class="back-btn" bindtap="hideOriginalDetail">
          <text class="back-icon">←</text>
          <text class="back-text">返回</text>
        </button>
        <text class="detail-title">详解详情</text>
        <view class="header-placeholder"></view>
      </view>
      
      <view class="detail-content">
        <view class="detail-quote">
          <text class="detail-quote-text" user-select="true">{{currentQuote.quote}}</text>
          <text class="detail-quote-source" user-select="true">——《菜根谭》{{currentQuote.source}}</text>
        </view>
        
        <view class="detail-original">
          <text class="detail-original-title">详解</text>
          <text class="detail-original-text" user-select="true">{{currentQuote.fullText}}</text>
          <text>\n\n</text>
        </view>
      </view>
    </view>
  </view>

  <!-- 主要操作按钮 - 固定在屏幕下方 -->
  <view class="main-action-bar" wx:if="{{!isLoading}}">
    <view class="main-actions">
      <button class="action-btn nav-btn prev" bindtap="showPreviousQuote">
        <text class="nav-icon">←</text>
        <text class="nav-text">上一句</text>
      </button>
      
      <button class="action-btn nav-btn next" bindtap="showNextQuote">
        <text class="nav-text">下一句</text>
        <text class="nav-icon">→</text>
      </button>
    </view>
    <view class="action-hint" wx:if="{{!showOriginalDetail}}">
      <text>点击卡片查看详解</text>
    </view>
  </view>

  <!-- 加载动画 -->
  <view class="loading-overlay" wx:if="{{isLoading}}">
    <view class="loading-spinner">
      <view class="spinner"></view>
      <text>正在加载智慧箴言...</text>
    </view>
  </view>
</view>