# 列表页分隔符问题修复计划

## 问题分析

**现象**：列表页中词组之间没有显示"、"分隔符。

**根本原因**：变量名冲突

- 外层循环：`wx:for="{{characterList}}"`，变量名为 `item`（字符对象）
- 内层循环：`block wx:for="{{item.relatedPhrases}}"`，默认变量名也是 `item`（词组）
- 导致 `item.relatedPhrases.length` 实际上是在尝试访问词组的 `relatedPhrases` 属性，而不是字符对象的 `relatedPhrases` 属性

## 修复方案

修改 `subgames/daily-character/pages/list/list.wxml` 文件，为内层循环指定不同的变量名：

```wxml
<!-- 原代码 -->
<block wx:for="{{item.relatedPhrases}}" wx:key="index">
  <text class="phrase-item">{{item}}</text>
  <text wx:if="{{index < item.relatedPhrases.length - 1}}" class="phrase-separator">、</text>
</block>

<!-- 修复后代码 -->
<block wx:for="{{item.relatedPhrases}}" wx:for-item="phrase" wx:key="index">
  <text class="phrase-item">{{phrase}}</text>
  <text wx:if="{{index < item.relatedPhrases.length - 1}}" class="phrase-separator">、</text>
</block>
```

## 修复原理

1. **避免变量名冲突**：为内层循环指定 `wx:for-item="phrase"`，确保内层循环的变量名与外层不同
2. **正确获取数组长度**：使用 `item.relatedPhrases.length` 获取字符对象的相关词组数组长度
3. **保持逻辑清晰**：内层循环使用 `{{phrase}}` 显示词组，`{{index}}` 获取当前索引

## 实现步骤

1. 打开 `subgames/daily-character/pages/list/list.wxml` 文件
2. 找到相关词组显示的代码部分
3. 修改内层循环，添加 `wx:for-item="phrase"` 属性
4. 将内层循环中的 `{{item}}` 改为 `{{phrase}}`
5. 保存文件并在微信开发者工具中预览效果
6. 验证词组间是否正确显示"、"分隔符
7. 确认修复成功后完成任务