# 统一图片管理方案（简化版）

## 1. 问题分析

### 1.1 核心问题
- 云存储中文件名**区分大小写**，fileID中的文件扩展名大小写必须与实际存储完全一致
- 骑凤仙人和龙的图片能显示，说明它们的fileID大小写与实际存储一致
- 其他脊兽图片显示错误，很可能是fileID中的文件扩展名大小写与实际存储不一致
- 需要统一管理所有图片，方便维护
- 需要添加神兽卡背面图

### 1.2 解决方案
- 确保所有图片fileID的大小写与实际存储一致
- 创建统一的图片配置文件，集中管理所有图片路径
- 添加神兽卡背面图

## 2. 实现方案

### 2.1 创建图片配置文件
- 创建`subgames/guardian-beast/imageConfig.js`文件
- 集中管理所有图片路径，确保大小写与实际存储一致
- 以骑凤仙人和龙的fileID格式为标准

### 2.2 确保大小写一致
- 骑凤仙人：`cloud://cloud1-4g76v9gbd3112c01.636c-cloud1-4g76v9gbd3112c01-1391701420/TradEngage/guardian-beast-xianren.png`（.png小写）
- 龙：`cloud://cloud1-4g76v9gbd3112c01.636c-cloud1-4g76v9gbd3112c01-1391701420/TradEngage/guardian-beast-dragon.PNG`（.PNG大写）
- 凤：`cloud://cloud1-4g76v9gbd3112c01.636c-cloud1-4g76v9gbd3112c01-1391701420/TradEngage/guardian-beast-phoenix.PNG`（.PNG大写）

### 2.3 添加神兽卡背面图
- 添加ID为"back"的神兽卡背面图
- 使用与其他图片相同的fileID格式

### 2.4 更新beasts.js
- 更新所有脊兽的image字段，确保大小写与实际存储一致

## 3. 实现步骤

### 步骤1：创建imageConfig.js
- 创建配置文件，集中管理所有图片路径
- 确保每个图片的大小写与实际存储一致
- 添加神兽卡背面图

### 步骤2：更新beasts.js
- 更新所有脊兽的image字段，使用正确大小写的fileID
- 与imageConfig.js保持一致

### 步骤3：在需要的地方使用imageConfig.js
- 引入imageConfig.js获取图片路径
- 方便后续维护和更新

## 4. 代码实现

### 4.1 imageConfig.js示例
```javascript
// 图片配置文件 - 集中管理所有图片路径
// 注意：云存储文件名区分大小写，必须与实际存储完全一致

const imageConfig = {
  // 脊兽图片配置
  beasts: {
    "xianren": "cloud://cloud1-4g76v9gbd3112c01.636c-cloud1-4g76v9gbd3112c01-1391701420/TradEngage/guardian-beast-xianren.png",
    "dragon": "cloud://cloud1-4g76v9gbd3112c01.636c-cloud1-4g76v9gbd3112c01-1391701420/TradEngage/guardian-beast-dragon.PNG",
    "phoenix": "cloud://cloud1-4g76v9gbd3112c01.636c-cloud1-4g76v9gbd3112c01-1391701420/TradEngage/guardian-beast-phoenix.PNG",
    "lion": "cloud://cloud1-4g76v9gbd3112c01.636c-cloud1-4g76v9gbd3112c01-1391701420/TradEngage/guardian-beast-lion.PNG",
    "tianma": "cloud://cloud1-4g76v9gbd3112c01.636c-cloud1-4g76v9gbd3112c01-1391701420/TradEngage/guardian-beast-tianma.PNG",
    "haima": "cloud://cloud1-4g76v9gbd3112c01.636c-cloud1-4g76v9gbd3112c01-1391701420/TradEngage/guardian-beast-haima.PNG",
    "suanmi": "cloud://cloud1-4g76v9gbd3112c01.636c-cloud1-4g76v9gbd3112c01-1391701420/TradEngage/guardian-beast-suanmi.PNG",
    "xiayu": "cloud://cloud1-4g76v9gbd3112c01.636c-cloud1-4g76v9gbd3112c01-1391701420/TradEngage/guardian-beast-xiayu.PNG",
    "xiezhi": "cloud://cloud1-4g76v9gbd3112c01.636c-cloud1-4g76v9gbd3112c01-1391701420/TradEngage/guardian-beast-xiezhi.PNG",
    "douniu": "cloud://cloud1-4g76v9gbd3112c01.636c-cloud1-4g76v9gbd3112c01-1391701420/TradEngage/guardian-beast-douniu.PNG",
    "hangshi": "cloud://cloud1-4g76v9gbd3112c01.636c-cloud1-4g76v9gbd3112c01-1391701420/TradEngage/guardian-beast-hangshi.PNG"
  },
  
  // 神兽卡背面图
  cardBack: {
    "back": "cloud://cloud1-4g76v9gbd3112c01.636c-cloud1-4g76v9gbd3112c01-1391701420/TradEngage/guardian-beast-card-back.PNG"
  },
  
  // 获取图片路径的方法
  getImage(imageId) {
    return this.beasts[imageId] || this.cardBack[imageId] || '';
  }
};

module.exports = imageConfig;
```

### 4.2 更新beasts.js示例
```javascript
// 更新所有脊兽的image字段，确保大小写与实际存储一致
// 例如，将凤的image字段更新为：
{
  "id": "phoenix",
  "name": "凤",
  // 其他字段...
  "image": "cloud://cloud1-4g76v9gbd3112c01.636c-cloud1-4g76v9gbd3112c01-1391701420/TradEngage/guardian-beast-phoenix.PNG"
}
```

## 3. 实现步骤

### 步骤1：创建imageConfig.js
- 创建图片配置文件，集中管理所有图片路径
- 确保所有图片路径的大小写与实际存储一致
- 添加神兽卡背面图

### 步骤2：更新beasts.js
- 更新所有脊兽的image字段，使用正确大小写的fileID
- 与imageConfig.js保持一致

### 步骤3：使用imageConfig.js
- 在需要获取图片的地方引入imageConfig.js
- 使用`imageConfig.getImage(imageId)`获取图片路径

## 4. 预期效果

- 所有图片使用正确大小写的fileID，能正常显示
- 集中管理所有图片，方便维护和更新
- 添加了神兽卡背面图，ID为back
- 保持与骑凤仙人和龙相同的fileID格式

## 5. 风险评估

- 低风险：仅修改图片配置，不影响核心业务逻辑
- 统一管理：方便后续添加或修改图片
- 解决了大小写导致的图片显示问题

## 6. 文件修改清单

### 创建文件
- `subgames/guardian-beast/imageConfig.js` - 图片配置文件

### 修改文件
- `subgames/guardian-beast/beasts.js` - 更新所有脊兽的image字段，确保大小写正确