# 每日一字列表功能实现计划（调整版）

## 功能需求

1. **独立列表页面**：创建独立的列表页面，而非弹出窗口
2. **列表显示内容**：显示“字”“正确读音”“相关词组”
3. **滚动功能**：字列表支持滚动显示
4. **返回按钮**：提供返回按钮返回首页
5. **筛选功能**：
   - 默认难度：按照设置中的难度选择显示字列表
   - 所有：显示数据文件中所有汉字
   - 收藏：显示收藏的字列表
   - 默认为默认难度
6. **相关词组处理**：相关词组太长时控制在边框内，超出部分用...表示

## 实现步骤

### 1. 创建独立列表页面

- 创建 `/subgames/daily-character/pages/list/list.wxml`
- 创建 `/subgames/daily-character/pages/list/list.js`
- 创建 `/subgames/daily-character/pages/list/list.wxss`

### 2. 修改首页逻辑

- 修改 `showCharacterList()` 函数：
  - 使用 `wx.navigateTo()` 跳转到列表页面
  - 传递当前难度设置和筛选条件

### 3. 实现列表页面逻辑

- 在 `list.js` 中：
  - 接收首页传递的参数
  - 加载汉字数据
  - 实现筛选逻辑
  - 实现返回功能

### 4. 实现列表页面UI

- 在 `list.wxml` 中：
  - 顶部导航栏（标题和返回按钮）
  - 筛选选项栏
  - 字列表（支持滚动）
  - 列表项布局（字、正确读音、相关词组）

- 在 `list.wxss` 中：
  - 实现响应式布局
  - 处理相关词组过长的显示（使用 `text-overflow: ellipsis`）

### 5. 实现筛选逻辑

- **默认难度**：根据首页传递的难度设置筛选
- **所有**：直接使用 `allCharacters` 数据
- **收藏**：从 `allCharacters` 中筛选出在 `dailyCharacterFavorites` 中的汉字

### 6. 优化用户体验

- 添加加载动画
- 优化列表项样式
- 确保返回按钮功能正常
- 确保筛选切换流畅

## 技术要点

- 使用微信小程序的页面导航功能
- 使用 `scroll-view` 组件实现滚动列表
- 使用 `text-overflow: ellipsis` 处理文本溢出
- 使用 `wx.getStorageSync('dailyCharacterFavorites')` 获取收藏数据
- 复用现有的难度过滤逻辑

## 预期效果

用户点击列表按钮后，会跳转到一个独立的列表页面，显示所有汉字的列表，支持按不同条件筛选，相关词组过长时会自动截断显示。点击返回按钮可以返回首页。