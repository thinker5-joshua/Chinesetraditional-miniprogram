# 检查和处理重复项计划

## 目标
检查 `data-optimized.js` 文件中的重复项（基于字和正确读音的组合），记录重复项，删除后面的重复项，保留前面的，并重新排序号。

## 实现步骤

### 步骤1：编写重复项检查脚本
- 创建 `check_duplicates_final.py` 脚本
- 实现功能：
  1. 读取 `data-optimized.js` 文件
  2. 解析 `characters` 数组
  3. 基于 `char` 和 `correctPronunciation` 组合检查重复项
  4. 记录重复项信息（ID、字、正确读音、位置）
  5. 生成详细的重复项报告

### 步骤2：运行检查脚本
- 执行脚本检查 `data-optimized.js` 文件
- 生成 `duplicate_report.json` 报告文件
- 显示重复项统计信息和详细列表

### 步骤3：用户确认
- 展示重复项报告给用户
- 确认需要删除的重复项
- 验证删除策略（保留前面的，删除后面的）

### 步骤4：删除重复项
- 修改脚本，实现删除重复项的功能
- 运行脚本删除后面的重复项
- 保留第一个出现的条目

### 步骤5：重新排序号
- 在删除重复项后，重新生成连续的 ID 号
- 确保 ID 从 1 开始连续递增

### 步骤6：验证结果
- 再次运行检查脚本，确认无重复项
- 验证 ID 排序是否正确
- 检查数据格式是否完整

## 技术要点
- JSON 解析和处理
- 重复项检测算法
- 文件读写操作
- 数据重排序
- 报告生成

## 预期输出
- `duplicate_report.json` - 重复项详细报告
- 无重复项的 `data-optimized.js` 文件
- 连续排序的 ID 号
- 完整的数据验证报告

## 注意事项
- 确保数据备份，避免意外丢失
- 详细记录所有操作步骤
- 验证最终数据的完整性和正确性