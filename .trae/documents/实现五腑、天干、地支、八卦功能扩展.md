## 实现计划

### 1. 数据结构设计

**五腑数据结构**：
- 五腑包括：胆、胃、小肠、大肠、膀胱
- 每个腑对应一个五行属性，与五脏相对应：胆属木（对应肝）、胃属土（对应脾）、小肠属火（对应心）、大肠属金（对应肺）、膀胱属水（对应肾）
- 数据结构与五脏类似，包含name、wuxing、description、function、symptom等属性

**天干数据结构**：
- 天干包括：甲、乙、丙、丁、戊、己、庚、辛、壬、癸
- 每个天干对应一个五行属性：甲木、乙木、丙火、丁火、戊土、己土、庚金、辛金、壬水、癸水
- 数据结构包含name、wuxing、description、color、properties等属性

**地支数据结构**：
- 地支包括：子、丑、寅、卯、辰、巳、午、未、申、酉、戌、亥
- 每个地支对应一个五行属性：子水、丑土、寅木、卯木、辰土、巳火、午火、未土、申金、酉金、戌土、亥水
- 数据结构包含name、wuxing、description、color、properties等属性

**八卦数据结构**：
- 八卦包括：乾、坤、震、巽、坎、离、艮、兑
- 每个八卦对应一个五行属性：乾金、坤土、震木、巽木、坎水、离火、艮土、兑金
- 数据结构包含name、wuxing、description、color、properties等属性

### 2. 功能实现

**Tab配置**：
- 在main/index.js的activeTabs数组中添加五腑、天干、地支、八卦的配置
- 五腑放到五脏的边上
- 每个Tab配置包含id、title、icon、color等属性

**Canvas绘制**：
- 为每个新Tab添加对应的Canvas绘制函数
- 函数名格式为drawXXXCanvas和drawXXXChart
- 绘制内容包括五行相生相克关系图和对应元素

**知识内容**：
- 为每个新Tab添加对应的知识内容
- 知识内容包括理论起源、五行对应关系、应用价值等

**详情页支持**：
- 在detail/detail.js的elementTypeMap中添加新Tab的映射
- 扩展generateDetailData函数，支持新Tab的数据生成
- 扩展generateRelatedElements函数，支持新Tab的相关元素生成
- 扩展getElementSymbol函数，为新元素添加对应的符号

### 3. 文件修改

**/subgames/WuxingMysteries/data.js**：
- 添加五腑、天干、地支、八卦的数据结构

**/subgames/WuxingMysteries/pages/main/index.js**：
- 在activeTabs数组中添加新Tab配置
- 添加新Tab的元素按钮数组
- 添加新Tab的Canvas绘制函数
- 更新onTabChange函数，添加新Tab的subtitle映射

**/subgames/WuxingMysteries/pages/main/index.wxml**：
- 为新Tab添加Canvas元素和元素按钮覆盖层
- 为新Tab添加知识内容

**/subgames/WuxingMysteries/pages/detail/detail.js**：
- 在elementTypeMap中添加新Tab的映射
- 扩展generateDetailData函数，支持新Tab的数据生成
- 扩展generateRelatedElements函数，支持新Tab的相关元素生成
- 扩展getElementSymbol函数，为新元素添加对应的符号

### 4. 实现顺序

1. 首先在data.js中添加五腑、天干、地支、八卦的数据结构
2. 然后修改main/index.js，添加新Tab的配置和Canvas绘制函数
3. 接着修改main/index.wxml，添加新Tab的Canvas和知识内容
4. 最后修改detail/detail.js，支持新Tab的详情显示
5. 进行整体测试和优化

### 5. 技术要点

- 采用与现有Tab一致的实现模式
- 保持数据结构的一致性
- 确保Canvas绘制的视觉风格统一
- 知识内容结构统一，包括理论起源、五行对应关系、应用价值等
- 支持左右滑动切换Tab
- 所有新Tab都支持分享功能