# 使用四个独立变量管理难度选择状态

**问题**：当前使用数组管理难度选择状态，逻辑复杂，导致按钮状态切换出现闪烁问题

**新方案优势**：
1. 逻辑更简单，每个难度一个独立变量
2. 状态管理更直接，避免数组操作
3. UI绑定更简单，直接使用变量值判断
4. 缓存保存和读取更直观
5. 避免数组引用和异步更新问题

**解决方案**：

1. **修改数据结构**：
   - 替换 `selectedDifficulties` 数组为四个独立变量
   - 初始值都设为true（保持默认四个都选中）

2. **修改WXML绑定**：
   - 直接使用变量值判断active类
   - 简化绑定逻辑，提高可读性

3. **重写toggleDifficulty函数**：
   - 根据点击的难度切换对应的变量
   - 简化切换逻辑，直接修改对应的变量

4. **修改filterCharacters函数**：
   - 根据四个变量过滤汉字
   - 简化过滤逻辑，提高性能

5. **修改本地存储逻辑**：
   - 保存和读取四个独立变量
   - 简化存储结构，提高可读性

**预期效果**：
- 难度选择按钮能正确切换选中/未选中状态
- 状态变更后能正确保存到本地存储
- 页面重新加载时能正确恢复上次的选择状态
- 逻辑更简单，更容易维护

**修改文件**：
- `/Users/joshua/Documents/GitHub/Chinesetraditional-miniprogram/subgames/daily-character/index.js` - 修改JavaScript逻辑
- `/Users/joshua/Documents/GitHub/Chinesetraditional-miniprogram/subgames/daily-character/index.wxml` - 修改WXML绑定

**具体修改点**：

1. **index.js**：
   - data中添加四个独立变量
   - 修改onLoad和onShow函数
   - 重写toggleDifficulty函数
   - 修改filterCharacters函数
   - 修改本地存储逻辑

2. **index.wxml**：
   - 修改难度按钮的class绑定
   - 简化绑定逻辑

3. **index.wxss**：
   - 保持不变，确保样式正确