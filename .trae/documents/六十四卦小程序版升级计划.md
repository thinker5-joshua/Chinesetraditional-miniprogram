# 六十四卦小程序版升级计划

## 一、数据升级

1. **替换数据文件**：将当前的 `hexagrams-data.js` 替换为网页版完整数据，包含所有新增字段
2. **数据字段说明**：

   * 保留原有字段：id, name, pinyin, symbol, hexagramText, yaoTexts

   * 新增字段：fullName, characteristics, level, xiangYue, description, alias, upperTrigram, lowerTrigram, mutualHexagram, reverseHexagram, oppositeHexagram

## 二、配对功能修改

1. **增强卦名列显示**：在右侧卦名卡片中增加显示卦别名、上下卦（上X下Y格式），卦名和拼音放一行，中间加些空格分隔，卦别名和上下卦放一行，上下卦前后用（）括号住
2. **调整样式**：

   * 加长卦名列长度以容纳新内容

   * 新内容使用略小字体

   * 优化排版，保持清晰易读
3. **文件修改**：

   * `index.wxml`：更新右侧卡片显示内容

   * `index.wxss`：调整卡片样式

   * `index.js`：保持原有配对逻辑不变

## 三、去学卦功能升级

1. **增加查看模式**：

   * 分组查看：保持现有实现

   * 随机翻阅：新增模式，每次显示一张卦的摘录

     默认为随机翻阅模式，在随机翻阅模式，分组模式不可见，换到分组查看模式，分组模式才可见。将分组模式做到和查看模式同一行显示

     <br />
2. **摘录框内容**：卦象、卦名、拼音、别名、上下卦、卦辞、卦序号
3. **翻页功能**：提供左右翻页按钮，支持随机切换不同卦
4. **文件修改**：

   * `hexagram-list.js`：添加随机翻阅模式逻辑

   * `hexagram-list.wxml`：新增随机翻阅界面

   * `hexagram-list.wxss`：优化摘录框样式

## 四、卦详情页重新设计

1. **显示内容**：与网页版保持一致，包含：

   * 卦名、拼音、卦象

   * 卦序号

   * 卦辞

   * 爻辞

   * 别名

   * 上下卦（上X下Y）

   * 卦的特性（characteristics）

   * 卦的等级（level）

   * 象曰（xiangYue）

   * 详细说明（description）

   * 相关卦：互卦、综卦、错卦（每个显示：卦象、卦名、别名）

   * 整体卦详情页重新排版，更清晰大气，内容可以滚动

     首先展示卦名，拼音，卦象，卦序号，别名，上下卦，特性，等级，象曰，详细说明，卦辞，爻辞，最后展示相关卦
2. **排版优化**：

   * 清晰大气的布局

   * 内容可滚动

   * 优化视觉层次

   * 与网页版排版保持一致
3. **文件修改**：

   * `hexagram-detail.wxml`：重新设计详情页布局

   * `hexagram-detail.wxss`：优化样式

   * `hexagram-detail.js`：更新数据处理逻辑，添加相关卦信息的计算

## 五、实现步骤

1. **数据替换**：将网页版数据复制到 `hexagrams-data.js`
2. **更新配对功能**：修改首页的右侧卡片显示内容
3. **实现随机翻阅**：在学习页面添加新的查看模式
4. **重构详情页**：重新设计详情页布局和内容，与网页版保持一致
5. **测试优化**：确保所有功能正常运行，样式美观一致

## 六、预期效果

1. **数据更丰富**：每个卦象包含完整的相关信息
2. **功能更完善**：增加随机翻阅模式，提升学习体验
3. **UI更美观**：重新设计的详情页和优化的样式，提供更好的视觉体验
4. **与网页版一致**：卦详情页显示与网页版相同的内容，确保内容完整性
5. **学习更便捷**：丰富的信息展示，便于用户学习和理解六十四卦
