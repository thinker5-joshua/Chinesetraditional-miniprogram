# 二十八星宿详情页修改计划

## 1. 需求分析

* 头部增加象征动物显示，分为左右两区，左边显示图标，右边分两行显示（名称拼音和象征动物）

* 去除方位位置的显示

* 加大显示内容的字体

## 2. 修改文件

* `/subgames/28Stars/index.wxml`：修改详情页的HTML结构

* `/subgames/28Stars/index.wxss`：修改详情页的样式

* `/subgames/28Stars/index.js`：更新数据处理逻辑

## 3. 具体修改内容

### 3.1 修改WXML结构

* **修改模态框头部**：将原有的垂直排列改为左右分区布局

* **左侧**：显示星宿图标（symbol）

* **右侧**：分为两行，第一行显示名称和拼音，第二行显示象征动物

* **移除方位位置**：删除模态框中的方位位置部分

### 3.2 更新WXSS样式

* **加大头部字体**：增大名称和拼音的字体大小

* **调整头部布局**：设置flex布局，实现左右分区

* **增大内容字体**：调整模态框内容区域的字体大小

* **优化间距**：调整各元素之间的间距，使布局更紧凑美观

### 3.3 优化JS逻辑

* 确保`selectedStarInfo`中包含`animal`字段

* 优化数据加载和显示逻辑

## 4. 具体实现步骤

### 步骤1：修改模态框头部结构

```wxml
<!-- 原代码 -->
<view class="modal-header">
  <view class="modal-symbol">{{selectedStarInfo.symbol}}</view>
  <text class="modal-name">{{selectedStarInfo.name}}</text>
  <text class="modal-pinyin">{{selectedStarInfo.pinyin}}</text>
</view>

<!-- 修改后代码 -->
<view class="modal-header">
  <view class="modal-header-left">
    <view class="modal-symbol">{{selectedStarInfo.symbol}}</view>
  </view>
  <view class="modal-header-right">
    <view class="modal-title-row">
      <text class="modal-name">{{selectedStarInfo.name}}</text>
      <text class="modal-pinyin">{{selectedStarInfo.pinyin}}</text>
    </view>
    <view class="modal-animal-row">
      <text class="modal-animal">{{selectedStarInfo.animal}}</text>
    </view>
  </view>
</view>
```

### 步骤2：删除方位位置部分

```wxml
<!-- 删除以下代码 -->
<view class="modal-section">
  <text class="section-title">方位位置</text>
  <text class="section-content">第 {{selectedStarInfo.positionIndex}} 宿</text>
</view>
```

### 步骤3：更新模态框样式

```css
/* 修改头部布局 */
.modal-header {
  display: flex;
  align-items: center;
  gap: 20rpx;
  text-align: left;
}

/* 调整头部左右分区 */
.modal-header-left {
  flex-shrink: 0;
}

.modal-header-right {
  flex: 1;
}

/* 增大字体大小 */
.modal-name {
  font-size: 56rpx; /* 从48rpx增大到56rpx */
}

.modal-pinyin {
  font-size: 36rpx; /* 从30rpx增大到36rpx */
}

.modal-animal {
  font-size: 40rpx; /* 新增样式，设置象征动物字体大小 */
}

/* 增大内容字体 */
.section-content {
  font-size: 36rpx; /* 从30rpx增大到36rpx */
}

.animal-name {
  font-size: 40rpx; /* 从34rpx增大到40rpx */
}
```

### 步骤4：优化数据处理

* 确保`selectStar`和`showStarDetail`函数中正确设置`selectedStarInfo`的`animal`字段

* 验证`stars-data.js`中的数据结构是否包含`animal`字段

## 5. 预期效果

* 详情页头部采用左右分区布局，左边显示图标，右边分两行显示名称拼音和象征动物

* 去除了方位位置的显示

* 所有显示内容的字体都有所增大，提高了可读性

* 整体布局更紧凑美观，符合用户需求

## 6. 测试和验证

* 在微信开发者工具中测试详情页的显示效果

* 检查不同星宿的详情页是否都能正确显示

* 验证象征动物是否正确显示

* 检查字体大小是否符合要求

## 7. 预计完成时间

* 预计需要30分钟

