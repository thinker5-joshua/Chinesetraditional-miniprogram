# 菜根谭摘录主题词和详解批量更新计划

## 1. 当前进展
已完成前5条摘录的主题词和详解更新，剩余373条需要更新。

## 2. 批量更新策略

### 2.1 批量提示词生成
- 每次生成10条摘录的提示词（ID范围如6-15, 16-25等）
- 生成主题词和详解的AI提示词
- 保存提示词到文件，便于后续使用

### 2.2 批量更新执行
- 基于生成的提示词，获取AI生成结果
- 每10条为一批次，创建更新脚本
- 批量更新数据文件
- 每次更新前自动备份

### 2.3 质量控制
- 每条更新后验证主题词格式（8字或10字）
- 检查译文准确性和赏析深度
- 定期抽查更新结果

### 2.4 进度跟踪
- 记录已更新的ID范围
- 生成更新日志
- 确保所有378条记录都能完成

## 3. 技术实现

### 3.1 脚本优化
- 增强`update_theme_fulltext.js`脚本，支持批量更新
- 添加质量验证功能
- 完善日志记录

### 3.2 更新流程
1. 生成10条提示词
2. 获取AI生成结果
3. 创建批量更新脚本
4. 执行更新并备份
5. 验证更新结果
6. 继续下一批次

## 4. 预期成果
- 所有378条摘录都有符合要求的主题词和详解
- 主题词严格符合8字或10字要求
- 详解包含准确译文和深入赏析
- 数据文件完整无损
- 备份文件齐全

## 5. 风险控制
- 每次更新前自动备份
- 批量更新前先测试单条更新
- 定期验证数据完整性
- 确保AI生成结果质量

## 6. 开始实施
从第6条摘录开始，按照ID顺序，每10条为一批次进行更新，直到完成所有378条。