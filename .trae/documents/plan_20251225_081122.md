# 每日一字数据完善计划

## 一、数据分离

1. **创建诗词数据文件**
   - 创建 `poems.js` 文件，用于存储与汉字关联的诗词数据
   - 包含字段：
     - `id`：诗词ID
     - `charId`：关联的字ID
     - `char`：关联的汉字
     - `poemId`：诗词唯一标识
     - `poemTitle`：诗词名称
     - `author`：作者
     - `dynasty`：朝代
     - `relatedLines`：与该字相关的诗句（只包含该字且是正确读音的句子）

2. **修改汉字数据文件**
   - 保留 `data.js` 用于存储汉字数据
   - 移除原有的 `poems` 字段
   - 只保留汉字本身的属性

## 二、汉字数据完善

### 1. 字段调整
   - 合并 `wrongPhrases` 和 `relatedPhrases` 为 `relatedPhrases`
   - 保留 `wrongPronunciations` 字段，确保内容为此字经常误读的音
   - 增加 `errorReasonType` 字段，用于分类常见错误原因
   - 增加 `difficultyLevel` 字段，用于量化测试难度

### 2. 错误原因分类（6类）
   - 1. 形声字误读（声旁误导型）
   - 2. 形近字混淆（字形相似型）
   - 3. 音近字/同音字混淆（读音相近型）
   - 4. 多音字误读（语境依赖型）
   - 5. 字义误解（语境义/古今异义型）
   - 6. 偏僻字/生僻字（使用频率极低型）

### 3. 测试难度量化（4级）
   - 初级：Q<0.3，非常简单
   - 中级：0.3≤Q<0.5，中等难度
   - 高级：0.5≤Q<0.7，较难
   - 挑战级：Q≥0.7，极难

### 4. 扩充汉字数量
   - 将常念错的字扩充到30个
   - 确保覆盖所有错误原因分类
   - 包含不同难度等级

## 三、实施步骤

1. **创建诗词数据文件**
   - 路径：`/subgames/daily-character/poems.js`
   - 初始添加部分诗词数据

2. **修改汉字数据文件**
   - 路径：`/subgames/daily-character/data.js`
   - 调整字段结构
   - 合并相关词组
   - 添加错误原因分类
   - 添加测试难度
   - 扩充到30个汉字

3. **更新页面代码**
   - 修改字卡页面，适配新的数据结构
   - 修改入口页面，适配新的数据结构
   - 修改测试页面，适配新的数据结构

## 四、预期结果

1. 成功分离汉字数据和诗词数据
2. 汉字数据字段结构更加完善
3. 包含30个常念错的汉字
4. 每个汉字都有错误原因分类和测试难度
5. 页面代码适配新的数据结构

## 五、后续建议

1. 逐步补充更多诗词数据
2. 利用chinese-poetry库获取和校验诗词
3. 定期更新和完善汉字数据
4. 考虑添加用户反馈机制，收集更多易读错字