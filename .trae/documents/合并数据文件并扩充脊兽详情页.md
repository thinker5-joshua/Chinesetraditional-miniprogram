# 合并数据文件并扩充脊兽详情页（最终版）

## 1. 数据属性对比结果

### 1.1 beasts.js vs beasts.json属性对比
- **beasts.js** 包含的属性：id, name, pinyin, rank, beastName, origin, meaning, personality, ownerTrait, description, guardianAbility, shape, abilities, contractMark, image
- **beasts.json** 包含的属性：id, name, pinyin, rank, origin, meaning, personality, ownerTrait, description, guardianAbility, image
- **beasts.js独有属性**：beastName, shape, abilities, contractMark
- **beasts.json独有属性**：无

### 1.2 结论
- beasts.js的属性比beasts.json更完整，**不需要**从beasts.json中增加属性
- beasts.js已经是完整正确的数据源

## 2. 数据文件处理策略

### 2.1 beasts.js和beasts.json处理
- **保留** `beasts.js`：包含完整的11个脊兽，属性齐全，以它为准
- **删除** `beasts.json`：属性不完整，且可能存在错误数据

### 2.2 proverbs.js和proverbs.json处理
- **保留** `proverbs.js`：包含61条箴言，按脊兽分类，结构清晰
- **合并** `proverbs.json`：将其中没有的箴言添加到proverbs.js中
- **删除** `proverbs.json`：合并后不再需要
- **合并规则**：
  - 确保合并后的箴言id唯一，避免冲突（从62开始编号）
  - 按脊兽分类组织新增箴言
  - 保留原有分类结构

## 3. 扩充脊兽详情页

### 3.1 现有页面分析
- 当前详情页显示的属性：name, pinyin, rank, origin, meaning, personality, ownerTrait, guardianAbility, description
- 缺少的属性：beastName, shape, abilities, contractMark

### 3.2 扩充策略
- 修改`knowledge/detail.wxml`，添加缺少属性的展示
- 为新属性设计合适的图标和样式
- 保持页面布局美观，信息层次分明

## 4. 实现步骤

### 步骤1：删除beasts.json文件
- 直接删除，因为beasts.js已经包含完整正确的数据

### 步骤2：合并proverbs.json到proverbs.js
- 遍历proverbs.json中的每条箴言
- 检查是否已存在于proverbs.js中
- 如不存在，按脊兽分类添加到proverbs.js，id从62开始编号

### 步骤3：删除proverbs.json文件
- 合并完成后删除

### 步骤4：扩充脊兽详情页
- 修改`knowledge/detail.wxml`，添加beastName, shape, abilities, contractMark属性的展示
- 为新属性添加合适的图标和样式
- 调整页面布局，确保美观清晰

## 5. 文件修改清单

### 修改文件
- `subgames/guardian-beast/proverbs.js` - 合并proverbs.json的内容
- `subgames/guardian-beast/knowledge/detail.wxml` - 扩充脊兽详情页

### 删除文件
- `subgames/guardian-beast/beasts.json` - 属性不完整，以beasts.js为准
- `subgames/guardian-beast/proverbs.json` - 合并后不再需要

## 6. 预期效果

- 数据文件统一为.js格式，便于维护和扩展
- 脊兽信息以完整的beasts.js为准
- 箴言数据更丰富，分类清晰
- 脊兽详情页展示所有属性，信息全面
- 页面布局美观，信息层次分明