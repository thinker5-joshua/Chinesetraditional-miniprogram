## 修复云存储工具类模块系统和函数名不匹配问题

### 问题分析

1. **模块系统不兼容**
   - 子游戏页面使用CommonJS模块系统（`require`）
   - 而当前的`cloudStorage.js`使用ES模块系统（`export`）
   - 导致错误：`can not find module : , require args is ../../../utils/cloudStorage`

2. **函数名不匹配**
   - 代码中调用的是`cloudStorage.getImage('wyhd-share-default.png')`
   - 但实际实现的函数名是`getCloudImageUrl`
   - 导致调用失败

### 修复方案

1. **修改云存储工具类**
   - 将`cloudStorage.js`从ES模块系统改为CommonJS模块系统
   - 使用`module.exports`替代`export`
   - 确保函数名与调用处一致

2. **检查并修复所有调用处**
   - 检查所有使用云存储工具类的文件
   - 确保导入方式和函数名正确

### 实施步骤

1. **修改云存储工具类**
   ```javascript
   // utils/cloudStorage.js
   // 修改为CommonJS模块系统
   
   // 云存储文件配置
   const cloudFiles = {
     'official-account-qr.png': 'cloud://cloud1-4g76v9gbd3112c01.636c-cloud1-4g76v9gbd3112c01-1391701420/main/official-account-qr.png',
     'wyhd-share-default.png': 'cloud://cloud1-4g76v9gbd3112c01.636c-cloud1-4g76v9gbd3112c01-1391701420/main/wyhd-share-default.png'
   };
   
   // ... 其他代码保持不变 ...
   
   // 修改导出方式为CommonJS
   module.exports = {
     getCloudImageUrl,
     preloadCloudImages,
     clearExpiredCache
   };
   ```

2. **修复函数名不匹配问题**
   - 方案1：修改实现函数名为`getImage`
   - 方案2：修改所有调用处为`getCloudImageUrl`
   - 建议使用方案2，因为函数名更清晰地表达了功能

3. **修复所有调用处**
   - 检查所有使用云存储工具类的文件
   - 确保导入方式和函数名正确
   - 例如：`cloudStorage.getCloudImageUrl('wyhd-share-default.png')`

### 检查文件列表

需要检查的文件包括：

1. `subgames/WuxingMysteries/index.js`
2. `subgames/WuxingMysteries/pages/wuse/index.js`
3. `subgames/WuxingMysteries/pages/wufang/index.js`
4. `subgames/WuxingMysteries/pages/wuzang/index.js`
5. `subgames/WuxingMysteries/pages/wuxing/index.js`
6. `subgames/64Hexagrams/index.js`
7. `subgames/64Hexagrams/pages/matching/matching.js`
8. `subgames/family/index.js`
9. `pages/about/about.js`
10. `pages/index/index.js`
11. `pages/game/game.js`
12. `app.js`

### 预期效果

1. **解决模块加载问题**
   - 所有页面都能正确加载云存储工具类
   - 不再出现`can not find module`错误

2. **解决函数名不匹配问题**
   - 所有调用都能正确执行
   - 不再出现函数未定义错误

3. **保持功能一致性**
   - 修复后功能与预期一致
   - 图片能正常从云存储获取并缓存

### 风险评估

1. **模块系统兼容性**
   - 确保所有页面都使用相同的模块系统
   - 避免混合使用ES模块和CommonJS模块

2. **函数名一致性**
   - 确保所有调用处的函数名与实现一致
   - 避免拼写错误或函数名不匹配

3. **路径正确性**
   - 确保所有文件的相对路径正确
   - 避免因路径错误导致模块加载失败

### 测试验证

修复完成后，需要测试：

1. 所有页面都能正常加载
2. 图片能正常从云存储获取
3. 图片能正常缓存
4. 分享功能正常工作
5. 预加载功能正常工作