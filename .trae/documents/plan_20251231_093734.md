## 每日一字诗词数据优化计划

### 问题分析
目前的诗词数据存在以下问题：
1. 诗句中可能不包含对应的汉字
2. 或者包含但读音不正确
3. 提示词不符合要求
4. 需要从chinese-poetry获取和验证
5. 缺少正确读音属性

### 修复方案

#### 1. 数据收集阶段

**步骤1.1: 了解chinese-poetry目录结构**
- 查看chinese-poetry目录中的唐诗、宋词等数据文件
- 了解数据文件的格式和内容
- 确定如何获取和验证诗句

**步骤1.2: 为每个汉字查找对应的诗句**
- 从chinese-poetry目录中的数据文件中查找包含该汉字的诗句
- 确保诗句中确实包含该汉字
- 确保该汉字在诗句中读正确的读音

**步骤1.3: 验证诗句**
- 验证诗句中确实包含该汉字
- 验证该汉字在诗句中的读音与正确读音一致
- 确保诗句的完整性和正确性

#### 2. 数据构建阶段

**步骤2.1: 更新诗词数据结构**
- 在诗词数据中增加正确读音属性
- 确保数据结构符合要求

**步骤2.2: 更新诗词数据文件**
- 更新poems-optimized.js文件
- 为每个汉字添加符合要求的诗句
- 确保诗句中确实包含该汉字
- 确保该汉字在诗句中读正确的读音
- 增加正确读音属性
- 更新提示词

#### 3. 数据验证阶段

**步骤3.1: 验证诗词数据**
- 验证每个诗句中确实包含对应的汉字
- 验证该汉字在诗句中的读音与正确读音一致
- 验证提示词符合要求
- 验证正确读音属性正确

**步骤3.2: 测试功能**
- 在开发者工具中测试功能
- 确保每个汉字显示对应的诗句
- 确保诗句中确实包含该汉字
- 确保该汉字在诗句中读正确的读音
- 确保提示词符合要求
- 确保正确读音属性正确

### 具体实施计划

#### 第一阶段：数据收集

**步骤1: 了解chinese-poetry目录结构**
- 查看chinese-poetry目录中的唐诗、宋词等数据文件
- 了解数据文件的格式和内容
- 确定如何获取和验证诗句

**步骤2: 为每个汉字查找对应的诗句**
- 从chinese-poetry目录中的数据文件中查找包含该汉字的诗句
- 确保诗句中确实包含该汉字
- 确保该汉字在诗句中读正确的读音
- 记录诗句的完整信息，包括标题、作者、朝代等

#### 第二阶段：数据构建

**步骤3: 更新诗词数据结构**
- 在诗词数据中增加正确读音属性
- 确保数据结构符合要求

**步骤4: 更新诗词数据文件**
- 更新poems-optimized.js文件
- 为每个汉字添加符合要求的诗句
- 确保诗句中确实包含该汉字
- 确保该汉字在诗句中读正确的读音
- 增加正确读音属性
- 更新提示词，包含“含有此字（）此读音（）的诗句”

#### 第三阶段：数据验证

**步骤5: 验证诗词数据**
- 验证每个诗句中确实包含对应的汉字
- 验证该汉字在诗句中的读音与正确读音一致
- 验证提示词符合要求
- 验证正确读音属性正确

**步骤6: 测试功能**
- 在开发者工具中测试功能
- 确保每个汉字显示对应的诗句
- 确保诗句中确实包含该汉字
- 确保该汉字在诗句中读正确的读音
- 确保提示词符合要求
- 确保正确读音属性正确

### 预期效果

- 每个汉字显示对应的诗句
- 诗句中确实包含该汉字
- 该汉字在诗句中读正确的读音
- 提示词符合要求，包含“含有此字（）此读音（）的诗句”
- 诗词数据中增加了正确读音属性
- 诗词数据从chinese-poetry获取和验证
- 功能正常

### 技术要点

- 了解chinese-poetry的数据结构
- 从chinese-poetry获取诗句
- 验证诗句中确实包含对应的汉字
- 验证该汉字在诗句中的读音与正确读音一致
- 更新诗词数据结构，增加正确读音属性
- 更新提示词
- 测试功能

### 风险评估

- 诗句查找可能需要更多时间
- 诗句验证可能比较困难
- 需要确保诗句中该汉字的读音正确

### 资源需求

- chinese-poetry目录中的数据文件
- 易读错字列表
- 开发者工具

### 后续计划

- 完成10个汉字的诗词数据更新
- 后续可扩展到366个汉字

### 具体实施步骤

1. 首先，了解chinese-poetry的数据结构
2. 为每个汉字从chinese-poetry中寻找包含该字的诗句
3. 验证该字在诗句中的读音是否正确
4. 更新诗词数据文件，增加正确读音属性
5. 更新提示词
6. 测试功能

### 数据结构设计

诗词数据结构将更新为：
```javascript
const poems = [
  {
    "id": 1,
    "charId": 1,
    "char": "龟",
    "correctPronunciation": "jūn",
    "poemId": "poem-1",
    "poemTitle": "过故人庄",
    "author": "孟浩然",
    "dynasty": "唐代",
    "relatedLines": ["绿树村边合，青山郭外斜"],
    "hint": "含有此字（龟）此读音（jūn）的诗句"
  }
];
```

### 验证方法

1. 手动验证：对于每个诗句，手动验证该字的读音是否正确
2. 上下文验证：根据诗句的上下文，判断该字的读音
3. 字典验证：使用字典查询该字在诗句中的读音
4. 专家验证：如果可能，请教专家验证读音

### 预期时间

- 了解chinese-poetry的数据结构：1小时
- 为10个汉字查找诗句：2小时
- 验证诗句：1小时
- 更新诗词数据文件：1小时
- 测试功能：1小时

总计：6小时