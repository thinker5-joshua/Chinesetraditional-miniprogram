# 每日一字首页字卡左右滑动翻页功能实现

## 实现方案

参考六十四卦学习卦卡片的左右翻动实现，为每日一字首页添加左右滑动翻页功能，具体步骤如下：

### 1. 修改 index.js 文件

1. **添加触摸事件相关的临时变量**：
   - 在 Page 实例中添加 `touchStartX`、`touchStartY`、`touchMoveX`、`touchMoveY` 临时变量

2. **实现触摸事件处理函数**：
   - `onTouchStart(e)`: 记录触摸开始位置
   - `onTouchMove(e)`: 记录触摸移动位置
   - `onTouchEnd()`: 计算滑动距离，判断是否是水平滑动，根据滑动方向调用上一字/下一字函数

3. **滑动判断逻辑**：
   - 水平移动距离需要大于 100px
   - 水平移动距离需要大于垂直移动距离的 2 倍
   - 这样可以确保只有真正的滑动才会触发翻页，避免点击时的轻微移动被误识别

### 2. 修改 index.wxml 文件

在字卡容器上添加触摸事件绑定：
- `bindtouchstart="onTouchStart"`
- `bindtouchmove="onTouchMove"`
- `bindtouchend="onTouchEnd"`

### 3. 注意事项

- 字卡同时支持点击翻转和左右滑动翻页，需要确保两种操作不会冲突
- 滑动判断阈值的设置要合理，避免误触发
- 保持与现有上一字、下一字按钮的功能一致性

## 实现细节

1. **触摸事件处理**：
   - 使用临时变量存储触摸位置，避免异步更新问题
   - 在 `onTouchEnd` 中计算滑动距离和方向
   - 根据滑动方向调用 `showPreviousCharacter` 或 `showNextCharacter` 函数

2. **滑动判断**：
   - 水平移动距离 > 100px
   - 水平移动距离 > 垂直移动距离 * 2
   - 这样可以确保只有明显的水平滑动才会触发翻页

3. **事件绑定**：
   - 在 `card` 元素上添加触摸事件绑定，与现有的 `bindtap="toggleCardFlip"` 共存
   - 由于触摸事件的优先级高于点击事件，所以滑动操作会先被识别，不会触发点击翻转

## 预期效果

- 用户在字卡上左右滑动时，会触发上一字/下一字的翻页效果
- 滑动操作不会影响字卡的点击翻转功能
- 滑动判断阈值合理，避免误触发
- 与现有上一字、下一字按钮的功能保持一致