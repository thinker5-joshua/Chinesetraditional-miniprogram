## 安装部署云函数并进行数据导入

### 问题分析
1. 云开发CLI工具（tcb-cli）未安装，需要先安装
2. 云函数和数据文件已准备就绪
3. 需要登录云开发环境才能部署和调用函数
4. 需要验证导入前后的数据量变化

### 解决方案
1. **安装云开发CLI工具**：使用npm全局安装tcb-cli
2. **登录云开发环境**：使用tcb-cli登录微信云开发环境
3. **部署云函数**：上传并部署import_to_cloud函数
4. **调用检查功能**：获取当前云数据库中的数据条数
5. **调用导入功能**：将91条新数据导入到云数据库
6. **验证导入结果**：再次调用检查功能，确认数据条数增加

### 具体步骤
1. **安装tcb-cli**：执行npm install -g tcb-cli命令
2. **登录环境**：执行tcb login命令，扫码登录
3. **选择环境**：执行tcb env:list查看环境列表，选择目标环境
4. **部署函数**：执行tcb functions:deploy import_to_cloud -e [envId]命令
5. **调用检查**：执行tcb functions:invoke import_to_cloud -e [envId] -p '{"action":"check"}'命令
6. **调用导入**：执行tcb functions:invoke import_to_cloud -e [envId]命令
7. **验证结果**：再次执行检查命令，确认数据条数增加91条

### 预期结果
- tcb-cli安装成功
- 云函数部署成功
- 导入前数据条数：463条
- 导入后数据条数：554条（463+91）
- 所有91条数据成功导入，无失败记录

### 风险控制
- 安装过程中可能遇到权限问题，使用sudo前缀解决
- 登录过程需要手动扫码，确保环境支持
- 部署过程中可能遇到网络问题，可重试
- 导入过程中可能遇到数据重复问题，云函数会自动处理

### 注意事项
- 确保微信开发者工具已开通云开发服务
- 确保云函数目录结构正确
- 确保数据文件已正确复制到云函数目录
- 执行命令时替换[envId]为实际的云开发环境ID